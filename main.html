
<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="stayle.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Главная тест</title>
    <link rel="shortcut icon" href="./img/AniPanda.ico" type="image/x-icon">
</head>

<body>
    <div class="mainpage" style="display:block;">

    <div class="upnavbarmain" id="upnavbarmain">

        <div class="search-container">
          <input type="search" placeholder="Поиск аниме...">

        <div class="upnavbarbtn">
          <div class="filtr">
            <ul>
             <li id="filter-btn" class="filter-btn" onclick="toggleFilterSort()">
                    <ion-icon name="funnel"></ion-icon>
                  <div class="span"></div>
                </li>
             </ul>          
          </div>
        </div>


        </div>

    <div class="filter-sort" id="filter-sort" style="display: none;">
        <div class="filter-backround">
            <div class="filter-main">


            <div class="fbtn">
                     <button class="fbtna" data-janr="приключения" onclick="filterCards('приключения')">Приключения</button>
                     <button class="fbtna" data-janr="повседневность" onclick="filterCards('повседневность')">Повседневность</button>
                     <button class="fbtna" data-janr="фантастика" onclick="filterCards('фантастика')">Фантастика</button>
                     <button class="fbtna" data-janr="школа" onclick="filterCards('школа')">Школа</button>
                     <button class="fbtna" data-janr="война" onclick="filterCards('война')">Война</button>
                     <button class="fbtna" data-janr="магия" onclick="filterCards('магия')">Магия</button>
                     <button class="fbtna" data-janr="музыка" onclick="filterCards('музыка')">Музыка</button>
                     <button class="fbtna" data-janr="исекай" onclick="filterCards('исекай')">Исекай(перерождение)</button>
                     <button class="fbtna" data-janr="лечения" onclick="filterCards('лечения')">Лечения</button>
                     <button class="fbtna" data-janr="демоны" onclick="filterCards('демоны')">Демоны</button>
                     <button class="fbtna" data-janr="меха" onclick="filterCards('меха')">Меха</button>
            </div>


                <div class="closebtn">
                   <ul>
                      <li id="close-btn" class="close-btn"  onclick="toggleFilterSort()"><ion-icon name="close" >
                      </ion-icon><div class="span" ></div></li>
                   </ul>
                </div> 


            </div>
        </div>
    </div>

    </div>


<div class="main" id="main" style="display: block;">
    <div class="filtrcard" id="filtrcard">
        <div class="filtr-btn" onclick="changeCard('maincardvishli')">Главная</div>
        <div class="filtr-btn" onclick="changeCard('maincardnovie')">Новинки</div>
    </div>


<div id="maincardvishli" class="maincard" style="display:block;">

  <div class="cards">

<!-- начало ячейки Кайдзю номер 8-->
<div class="card visible" onclick="toggleListSort()" >
  <div class="containercard">
      <img src="./img/kaydzu8.png">
    <div class="rating">
              <p class="ml-rating" data-rating="4.5"></p>
          </div>
      </div>
      <div class="details">
          <h3>Кайдзю номер:8</h3>
          <div data-name="Кайдзю номер:8 восемь"></div>
          <div data-janr="приключения"></div>
          <div data-janr="фантастика"></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
      </div>
      <div class="list">

        <div class="list-backround">
          <div class="list-main">

            <button class="lbtna" data-url="https://t.me/anime_60_fps/3495">1 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3496">2 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3498">3 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3499">4 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3500">5 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3501">6 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3502">7 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3503">8 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3504">9 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3505">10 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3506">11 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3507">12 серия</button>
          
                 <div class="listclosebtn">
              <ul>
                 <li id="listclose-btn" class="listclose-btn"  onclick="toggleListSort()"><ion-icon name="close" >
                 </ion-icon></li>
              </ul>
                 </div> 

      </div>
    </div>
  </div>
</div>
<!-- конец ячейки -->
  
<!-- начало ячейки Бармен-->
<div class="card visible" onclick="toggleListSort()" >
  <div class="containercard">
      <img src="./img/barmen.png">
    <div class="rating">
              <p class="ml-rating" data-rating="4.5"></p>
          </div>
      </div>
      <div class="details">
          <h3>Бармен</h3>
          <div data-name="бармен бокал бога"></div>
          <div data-janr="повседневность"></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
      </div>
      <div class="list">

        <div class="list-backround">
          <div class="list-main">

            <button class="lbtna" data-url="https://t.me/anime_60_fps/3451">1 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3453">2 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3456">3 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3459">4 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3461">5 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3464">6 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3466">7 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3468">8 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3471">9 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3473">10 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3475">11 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3477">12 серия</button>
          
                 <div class="listclosebtn">
              <ul>
                 <li id="listclose-btn" class="listclose-btn"  onclick="toggleListSort()"><ion-icon name="close" >
                 </ion-icon></li>
              </ul>
                 </div> 

      </div>
    </div>
  </div>
</div>
<!-- конец ячейки -->

<!-- начало ячейки звездно дитя -->
<div class="card visible" onclick="toggleListSort()" >
  <div class="containercard">
      <img src="./img/StarChildren.png">
    <div class="rating">
              <p class="ml-rating" data-rating="4.6"></p>
          </div>
      </div>
      <div class="details">
          <h3>Звездное дитя</h3>
          <div data-name="Звездное дитя аидола айдола"></div>
          <div data-janr="музыка"></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
      </div>
      <div class="list">

        <div class="list-backround">
          <div class="list-main">

            <button class="lbtna" data-url="https://t.me/anime_60_fps/3197">выбор</button>
          
                 <div class="listclosebtn">
              <ul>
                 <li id="listclose-btn" class="listclose-btn"  onclick="toggleListSort()"><ion-icon name="close" >
                 </ion-icon></li>
              </ul>
                 </div> 

      </div>
    </div>
  </div>
</div>
<!-- конец ячейки -->

<!-- начало ячейки Врата там бьются наши войны -->
  <div class="card visible" onclick="toggleListSort()" >
  <div class="containercard">
      <img src="./img/gate.png">
    <div class="rating">
              <p class="ml-rating" data-rating="4.4"></p>
          </div>
      </div>
      <div class="details">
          <h3>Врата там бьются наши войны</h3>
          <div data-name="врата там бьются наши войны"></div>
          <div data-janr="приключения"></div>
          <div data-janr="магия"></div>
          <div data-janr="война"></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
      </div>
      <div class="list">

        <div class="list-backround">
          <div class="list-main">

            <div class="listseasons" style="font-size: 18px;"><h2>1 сезон</h2>
              <button class="lbtna" data-url="https://t.me/anime_60_fps/3403">2 сезон</button>
            </div>
                 <div class="listclosebtn">
              <ul>
                 <li id="listclose-btn" class="listclose-btn"  onclick="toggleListSort()"><ion-icon name="close" >
                 </ion-icon></li>
              </ul>
                 </div> 

      </div>
    </div>
  </div>
</div>
<!-- конец ячейки -->

<!-- начало ячейки Провожающая в последний путь Фрирен -->
<div class="card visible" onclick="toggleListSort()" >
  <div class="containercard">
      <img src="./img/friren.png">
    <div class="rating">
              <p class="ml-rating" data-rating="4.7"></p>
          </div>
      </div>
      <div class="details">
          <h3>Провожающая в последний путь Фрирен</h3>
          <div data-name="Провожающая в последний путь Фрирен"></div>
          <div data-janr="приключения"></div>
          <div data-janr="магия"></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
      </div>
      <div class="list">

        <div class="list-backround">
          <div class="list-main">

            <div class="listseasons" style="font-size: 18px;"><h2>1 сезон</h2>
              <button class="lbtna" data-url="https://t.me/anime_60_fps/3279">выбор серий</button>
            </div>
                 <div class="listclosebtn">
              <ul>
                 <li id="listclose-btn" class="listclose-btn"  onclick="toggleListSort()"><ion-icon name="close" >
                 </ion-icon></li>
              </ul>
                 </div> 

      </div>
    </div>
  </div>
</div>
<!-- конец ячейки -->

<!-- начало ячейки Перерождение:Монстр -->
<div class="card visible" onclick="toggleListSort()" >
  <div class="containercard">
      <img src="./img/monster.png">
    <div class="rating">
              <p class="ml-rating" data-rating="4.2"></p>
          </div>
      </div>
      <div class="details">
          <h3>Перерождение:Монстр</h3>
          <div data-name="Перерождение:Монстр"></div>
          <div data-janr="приключения"></div>
          <div data-janr="магия"></div>
          <div data-janr="исекай"></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
      </div>
      <div class="list">

        <div class="list-backround">
          <div class="list-main">

            <div class="listseasons" style="font-size: 18px;"><h2>1 сезон</h2>
              <button class="lbtna" data-url="https://t.me/anime_60_fps/3416">выбор серий</button>
            </div>
                 <div class="listclosebtn">
              <ul>
                 <li id="listclose-btn" class="listclose-btn"  onclick="toggleListSort()"><ion-icon name="close" >
                 </ion-icon></li>
              </ul>
                 </div> 

      </div>
    </div>
  </div>
</div>
<!-- конец ячейки -->


  </div>
</div>


</div>

</div>

      
  <div id="maincardnovie" class="maincard" style="display:none;">

    <div class="cards">


    <!-- начало ячейки Иногда Аля внезапно кокетничает со мной по-русски -->
  <div class="card visible" onclick="toggleListSort()" >
    <div class="containercard">
        <img src="./img/alya.png">
      <div class="rating">
                <p class="ml-rating" data-rating="4.4"></p>
            </div>
        </div>
        <div class="details">
            <h3>Иногда Аля внезапно кокетничает со мной по-русски</h3>
            <div data-name="Иногда Аля внезапно кокетничает со мной по-русски"></div>
            <div data-janr="школа"></div>
            <div data-janr="повседневность"></div>
            <div data-janr=""></div>
            <div data-janr=""></div>
            <div data-janr=""></div>
        </div>
        <div class="list">
  
          <div class="list-backround">
            <div class="list-main">
  
              <div class="listseasons"><h2>1 сезон</h2>
                <button class="lbtna" data-url="https://t.me/anime_60_fps/3197">2 сезон</button>
              </div>
                   <div class="listclosebtn">
                <ul>
                   <li id="listclose-btn" class="listclose-btn"  onclick="toggleListSort()"><ion-icon name="close" >
                   </ion-icon></li>
                </ul>
                   </div> 
  
        </div>
      </div>
    </div>
  </div>
  <!-- конец ячейки -->


    </div>
  </div>
</div>

</body>

<script>
  $(document).ready(function() {
      // При клике на любую карточку с классом 'card'
      $('.lbtna').on('click', function() {
          // Получаем значение data-url, которое содержит URL для перенаправления
          var url = $(this).data('url');
          // Перенаправляем пользователя на указанный URL
          window.location.href = url;
      });
  });
  </script>

<script>
// Добавляем делегирование событий для всех блоков 'card'
document.addEventListener('click', function(event) {
    // Проверяем, клик был по блоку 'card' или его дочерним элементам
    const card = event.target.closest('.card');
    
    if (card) {
        // Находим элемент 'list' внутри текущей карточки
        const list = card.querySelector('.list');
        
        // Проверяем, что клик был не по кнопке закрытия 'listclose-btn'
        if (event.target.closest('.listclose-btn')) {
            event.stopPropagation(); // Останавливаем всплытие события
            list.classList.remove('visible'); // Скрываем блок 'list'
        } else if (!event.target.closest('.list')) {
            // Если клик произошёл не внутри блока 'list' - переключаем видимость
            list.classList.toggle('visible');
        }
    }
});

let touchStartX = 0;
let touchEndX = 0;
let touchStartY = 0;
let touchEndY = 0;

function handleGesture() {
  const horizontalSwipeDistance = Math.abs(touchEndX - touchStartX);
  const verticalSwipeDistance = Math.abs(touchEndY - touchStartY);

  // Свайп считается только если горизонтальное движение больше вертикального
  if (horizontalSwipeDistance > verticalSwipeDistance && horizontalSwipeDistance > 50) {
    if (touchEndX > touchStartX) {
      // Свайп вправо, клик по кнопке "Новинки"
      document.querySelector('.filtr-btn[onclick="changeCard(\'maincardnovie\')"]').click();
    }
    if (touchEndX < touchStartX) {
      // Свайп влево, клик по кнопке "Главная"
      document.querySelector('.filtr-btn[onclick="changeCard(\'maincardvishli\')"]').click();
    }
  }
}

document.addEventListener('touchstart', function(event) {
  touchStartX = event.changedTouches[0].screenX;
  touchStartY = event.changedTouches[0].screenY;
}, false);

document.addEventListener('touchend', function(event) {
  touchEndX = event.changedTouches[0].screenX;
  touchEndY = event.changedTouches[0].screenY;
  handleGesture();
}, false);


</script>
  
  

<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/history.js/1.19.0/bundled/html4+html5/jquery.history.js" integrity="sha512-MWbvhG/3qbZ5Au8U/UmQ+vgSxJKu/DhMHvz+j3Xq330cY30p2wKfFdBvAjKQ+xLm8U9Wv28FvS/5bDkM+jgwA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script src="script.js"></script>
