
<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="stayle.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Главная тест</title>
    <link rel="shortcut icon" href="./img/AniPanda.ico" type="image/x-icon">
</head>

<body>
    <div class="mainpage" style="display:block;">

    <div class="upnavbarmain" id="upnavbarmain">

        <div class="search-container">
          <input type="search" placeholder="Поиск аниме...">

        <div class="upnavbarbtn">
          <div class="filtr">
            <ul>
             <li id="filter-btn" class="filter-btn" onclick="toggleFilterSort()">
                    <ion-icon name="funnel"></ion-icon>
                  <div class="span"></div>
                </li>
             </ul>          
          </div>
        </div>


        </div>

    <div class="filter-sort" id="filter-sort" style="display: none;">
        <div class="filter-backround">
            <div class="filter-main">


            <div class="fbtn">
                     <button class="fbtna" data-janr="приключения" onclick="filterCards('приключения')">Приключения</button>
                     <button class="fbtna" data-janr="повседневность" onclick="filterCards('повседневность')">Повседневность</button>
                     <button class="fbtna" data-janr="школа" onclick="filterCards('школа')">Школа</button>
                     <button class="fbtna" data-janr="магия" onclick="filterCards('магия')">Магия</button>
                     <button class="fbtna" data-janr="исекай" onclick="filterCards('исекай')">Исекай(перерождение)</button>
                     <button class="fbtna" data-janr="лечения" onclick="filterCards('лечения')">Лечения</button>
                     <button class="fbtna" data-janr="демоны" onclick="filterCards('демоны')">Демоны</button>
                     <button class="fbtna" data-janr="меха" onclick="filterCards('меха')">Меха</button>
            </div>


                <div class="closebtn">
                   <ul>
                      <li id="close-btn" class="close-btn"  onclick="toggleFilterSort()"><ion-icon name="close" >
                      </ion-icon><div class="span" ></div></li>
                   </ul>
                </div> 


            </div>
        </div>
    </div>

    </div>


<div class="main" id="main" style="display: block;">
    <div class="filtrcard" id="filtrcard">
        <div class="filtr-btn" onclick="changeCard('maincardvishli')">Главная</div>
        <div class="filtr-btn" onclick="changeCard('maincardnovie')">Новинки</div>
    </div>


<div id="maincardvishli" class="maincard" style="display:block;">

  <div class="cards">


<div class="card visible" onclick="toggleListSort()" >
      <div class="containercard">
          <img src="./img/barmen.png">
          <div class="rating">
              <p class="ml-rating" data-rating="4.5"></p>
          </div>
      </div>
      <div class="details">
          <h3>Бармен</h3>
          <div data-name="бармен бокал бога"></div>
          <div data-janr="повседневность"></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
          <div data-janr=""></div>
      </div>
      <div class="list">

        <div class="list-backround">
          <div class="list-main">

            <button class="lbtna" data-url="https://t.me/anime_60_fps/3451">1 серия</button>
            <button class="lbtna" data-url="https://t.me/anime_60_fps/3452">2 серия</button>
          
                 <div class="listclosebtn">
              <ul>
                 <li id="listclose-btn" class="listclose-btn"  onclick="toggleListSort()"><ion-icon name="close" >
                 </ion-icon><div class="span" ></div></li>
              </ul>
                 </div> 

          </div>
        </div>

    </div>

</div>
  


</div>

</div>

      
<div id="maincardnovie" class="maincard" style="display:none;">

  <div class="cards">
    <div class="card visible" data-url="https://t.me/anime_60_fps/3197">
          <div class="containercard">
       <img src="./img/alya.png">
             <div class="rating">
               <p class="ml-rating" data-rating="4.6"></p>
             </div>
          </div>
           <div class="details">
              <h3>Иногда Аля внезапно кокетничает со мной по-русски</h3>
                <div data-name="Иногда Аля внезапно кокетничает со мной по-русски"></div>
                <div data-janr="школа"></div>
                <div data-janr="повседневность"></div>
                <div data-janr=""></div>
                <div data-janr=""></div>
                <div data-janr=""></div>
          </div>
    </div>
  </div>

</div>

</div>

</body>

<script>
  $(document).ready(function() {
      // При клике на любую карточку с классом 'card'
      $('.lbtna').on('click', function() {
          // Получаем значение data-url, которое содержит URL для перенаправления
          var url = $(this).data('url');
          // Перенаправляем пользователя на указанный URL
          window.location.href = url;
      });
  });
  </script>

<script>
// Добавляем делегирование событий для всех блоков 'card'
document.addEventListener('click', function(event) {
    // Проверяем, клик был по блоку 'card' или его дочерним элементам
    const card = event.target.closest('.card');
    
    if (card) {
        // Находим элемент 'list' внутри текущей карточки
        const list = card.querySelector('.list');
        
        // Проверяем, что клик был не по кнопке закрытия 'listclose-btn'
        if (event.target.closest('.listclose-btn')) {
            event.stopPropagation(); // Останавливаем всплытие события
            list.classList.remove('visible'); // Скрываем блок 'list'
        } else if (!event.target.closest('.list')) {
            // Если клик произошёл не внутри блока 'list' - переключаем видимость
            list.classList.toggle('visible');
        }
    }
});

</script>
  
  

<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/history.js/1.19.0/bundled/html4+html5/jquery.history.js" integrity="sha512-MWbvhG/3qbZ5Au8U/UmQ+vgSxJKu/DhMHvz+j3Xq330cY30p2wKfFdBvAjKQ+xLm8U9Wv28FvS/5bDkM+jgwA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script src="script.js"></script>
